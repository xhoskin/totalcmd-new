Files renamer 2.3.1
Описание.

----------------------------------
Содержание

1.   Введение
1.2  История версий
2.   Установка, комплект поставки
3.   Описание программы
4.   Описание операторов
4.1  Описание общих шаблонов
5.   Работа с программой
5.1  Переименовывание файлов.
5.2  Переименовывание каталогов.
5.3  Создание своего скрипта
5.4  Использование переменных.
5.5  Смена схемы транслитерации
6.   Смена языка
7.   Заключение
----------------------------------



1. Введение
---------------------------------------------------------------------------------

       Программа предназначена для переименовывания большого количества файлов по
  определенному алгоритму. Программа может менять/преобразовывать регистр имен
  файлов, может переименовывать MP3, OGG, MPEGAudio, MPEGPlus, Monkey, TwinVQ, 
  APE, AAC, WMA файлы с учетом их тэгов, а так же менять MP3 теги, картинки с 
  учетом их размеров, HTML с учетом их заголовков (title), JPG файлы с учетом Exif
  данных (данные записываемые обычно цифровыми фотокамерами), а так же файлы с
  учетом их даты и прочей информации. Может переводить в нормальное написания
  файлы, скачанные из интернета типа "file "+ .jpg" или "ЄЬd .jpg", переводить
  имена файлов из русского в транслит и обратно, и многое другое.

       Может сливать в одну папку файлы из многих директорий, контролируя
  одинаковые имена, и корректируя их, правильно переименовывать файлы типа:
    file1.jpg
    file10.jpg
    file11.jpg
    file2.jpg
    ...
    file9.jpg
    
  в файлы:
    file01.jpg
    file02.jpg
    ...
    file09.jpg
    file10.jpg
    file11.jpg
  
  а так же она может переименовывать с учетом директории (папки) в которой
  находятся файлы. Перед переименовыванием файлы могут сортироваться: по имени,
  по дате, по размеру, по номеру в имени, по дате в имени, по данным из Exif тега.
  Поддерживает мультиязычность. 


1.2 История версий
---------------------------------------------------------------------------------  

  ver 2.3.1
  * Исправление ошибки в импорт/экспорт
  * Исправление ошибки: если mp3 тега в файле не было, переменная
    не изменялась. Так что создать новый тег было нельзя

  ver 2.3
  + Добавлен импорт/экспорт скриптов. Вызывается при клике на кнопки 
    "Добавить скрипт"/"Сохранить скрипт" при нажатых клавишах Ctrl+Shift
  * ПЕРЕДЕЛАН ФОРМАТ СКРИПТОВ! Программа автоматически сконвертирует
    старый формат в новый при запуске. В Регулярных выражениях (и не только)
    теперь нормально можно использовать "\" (слеши). Перенос строки (в скриптах)
    стал вместо "/n" нормальным - "\n"
  * Немного уменьшено количество используемой памяти
  * Исправлены ошибки работы с переменными. При определенных условиях 
    менялась не переменная, а имя файла. 
  * Исправлены мелкие ошибки в "Capitalise" (слова с большой быквы), 
    функция немного оптимизирована по скорости

  ver 2.2.9
  + В работе из командной строки появился переключатель режима работы - 
    "c" - копировать, и "m" - переносить. Будьте внимательны!
  * Исправлена ошибка с "Capitalise" (слова с большой быквы). Буквы после
    английской "A" тоже становились большими.

  ver 2.2.8
  + Последний папка - если папки не было, то при клике на кнопку у "Одна папка"
    открывалось с корня. Теперь открывается с первой существующей папки
    (например стоит "c:\aaa\bbb". bbb стерли. Теперь будет открываться с "c:\aaa")
  + Если в "Много папок" не добавляли еще папок - то иницилизионная папка берется 
    из "Одна папка". 
  + При пеерименовании папок они сами отсортировываются так, чтобы сначала
    переименовывались вложенные папки, а потом более высокие (раньше просто
    выводилось сообщение о неправильной сортировке папок).
  + Отладка работает для папок
  + Сортировка по цифре в имени ищет цифру в имени а не в расширении
    (mp3 будут нормально сортироваться)
  + Добавлена возможность установки своих схем транслитерации. Для этого надо
    создать файл "translite.txt" в папке с Ренеймером, и внести туда 2 строки - 
    из чего и во что переводить. Стандартная схема зашита в Renamer, а так же 
    доступна как пример в файле "translite.tx~"
  + Добавлен оператор замены по регулярным выражениям

  * Исправление функции "Переименование папок". Теперь она работает корректно
  * Исправление мелких ошибок

  ver 2.2.7
  * Исправление ошибки, из-за которой Windows Styles действовали не на все окна
  * Исправление мелких ошибок

  ver 2.2.6
  + добавлена возможность не только переносить файлы, но и копировать.
    выбирается переключателем "Файлы:" на главном окне, над клавишей "Go!"
  + добавлена возможность "Отката" - возвращение обратно переименованных файлов.
  + добавлена возможность сообщения после переименовывания
  + у клавиши "Go!" появились 2 "быстрых клавиши" (ShortCut) - F5 и Ctrl+F9
  + в операторе подстроки (%[]%) появилась возможность указывать позицию
    не только числом или позицией символа, а так же позицией нескольких символов
    (например %[name,'cat'+3,999]%, раньше можно было только %[name,'c'+3,999]%)
  
  * исправлена ошибка с автоматическим обнаружением номера в имени.
    если имя состояло только из цифр - обнаружение было неверно.
  * исправлена ошибка с обнаружением пути. Теперь в автоматическом режиме можно
    задавать не только абсолютный путь, а так же путь относительно 
    текущего (".\") и корневого ("\aaa\bbb\") каталогов.
  * Во всех местах слова "Директория", "Каталог", "Папка" были заменены на 
    слова "Папка" (по "стандарту" Windows)

  ver 2.2.5
  + добавлена возможность работы в пакетном режиме. Для информации запустите 
    renamer.exe /?

  ver 2.2.4
  + Введена поддержка считывания параметров файлов AAC, WMA, APE
  + Добавлена поддержка тегов версии 2.0 в файлах Donkey и Mpeg Audio Plus
  + В Readme написанно как генерировать MP3 теги по имени файла
  + В оператор Capitalize добавлен параметр "Для каждого слова" - 
    который позволяет переводить либо все слова с большой буквы,
    либо, как работало раньше, все предложение с большой буквы
    ('It Is A Good Day.txt' или, как было раньше "It is a good day.txt")
  + В счетчик добавлена возможность сброса после каждой директории 
    (если переименовываются файлы в нескольких директориях)
    Для этого надо в финальное значение счетчика "Конец:" написать "%fcount%"

  * Исправлена проблема выбора скрипта, когда скриптов было больше 10 
    (Названия скриптов не соответствовали самим скриптам)
  * Исправлена ошибка блокировки папки после переименовывания в 
    Windows2000 и Windows XP

  ver 2.2.3
  + Введен показ информационного окна, если ни одного файла нет для 
    переименовывания
  + В режиме отладки скрипта теперь показывается предупреждение 
    при дубликате полученного имени
  + Добавлена проверка с предупреждением правильности следования 
    директорий и поддиректорий в режиме "Переим. каталоги"
  + Добавлен символ "/n" - он используется в для разделения полей в MP3 теге.
    Информация по ручному формирования MP3 тега, например из имени файла
    см. в пункте 5.4 "Работа с переменными"


  * Изменена работа действия на "All" - теперь название файла собирается 
    (name.ext) после этого применяется оператор и файл снова делится на 
    имя и расширение
  * Исправлены ошибки в некоторых операторах
  * Исправлена ошибка запуска отладчика скрипта
  * Поправлена работа индикатора прогресса переименовывания


  ver 2.2
  + Добавлена возможность считывания MP3 тега версии 2
  + Добавлена возможность считывания тегов файлов OGG, MPEGAudio, MPEGPlus, Monkey, 
    TwinVQ
  + Добавлена возможность считывания параметров Wav файлов
  + Добавлена возможность считывания HTML заголовков
  + Добавлена возможность считывания Exif тега у JPG файлов
  + Добавлена возможность пеерименовывания с учетом даты и времени файла 
    и текущей даты и времени
  + Добавлена возможность сортировки по Exif тегу (дате и времени, произмодителю, модели 
    камеры и тд)
  + Добавлена возможность сортировки по дате в имени в файле 
    (например 23.01.2002.jpg, 23012002.jpg, 31jan2002.jpg, 31.jan.2002.jpg и тд)
  + Введена возможность более мощной работы с переменными
  + Введена возможность в операторе "подстрока" (%[..,..,..]%) вводить не только 
    цифру но и букву в одинарных кавычках - тогда она заменится на позицию
    этого символа в имени/переменной
  + Введена возможность изменения и удаления MP3 тега (версий 1 и 2)
  + Добавлена возможность переименовывания каталогов
  
  * Количество возможных переменных увеличено до 50.
  * Исправлены мелкие ошибки
  * Увеличена скорость работы некоторых функций


  ver 2.0.1
  * Исправлен баг с добавлением саб директорий, в список - директории сканировались 
    и добавлялись как поддиректории одного уровня

  + Оптимизировано сканирование, и запрос на добавление поддиректорий
  + Исправление мелких ошибок


2. Установка
---------------------------------------------------------------------------------

  Разархивируйте файл renamer.zip 
    В разархивированной папке должны находится файлы:

    Read_me.txt - это описание
    Renamer.exe - файл программы
    Renamer.ini - файл с настройками программы и текстами скриптов
    Renamer.cnt - файл контекстной справки

  Так же может быть файл Renamer.lng - файл языка (подробнее смотри
  в пункте 4-"Смена языка")

  Программа готова к работе. Все настройки хранятся в файле Renamer.ini - в
  системный реестр Windows ничего не пишется.




3. Описание программы
---------------------------------------------------------------------------------

  Рабочее окно программы состоит из 2 частей: Главных настроек и настроек
  переименовывания.
  
  В главных настройках можно настроить в какой папке или в каких парках
  будет производится переименовывание, маски файлов, а так же сортировка файлов.
  
  Режимы переименовывания:
    "Одна директория" - переименование идет в одной директории.
    "Список директорий" - переименовывание идет в нескольких директориях.
           Клавиши рядом со списком служат для редактирования списка 
              "+" - позволяет добавить директорию. При добавлении, если в директории есть поддиректории,
                    то задастся вопрос - добавлять ли их. 
              "-" - удалить директорию
              "стрелка вверх" - переместить директорию выше
              "стрелка вниз" - переместить директорию ниже
              "стереть" - очистить список директорий
           Так же можно менять последовательность директорий в списке, если ухватится
           мышью за директорию и потянуть ее выше или ниже.
  
  "Переимен. каталоги" - Переключает программу между режимами пеерименовывания файлов и
           переименовывания каталогов. При переименовывании каталогов (галочка стоит)
           программа переименовывает каталоги в списке "Список директорий" в той же
           последовательности, в какой они находятся в списке.


  Настройки выхода файлов:
    "Куда переименовываем" - если галочка стоит, то все файлы (из одной или
    нескольких директорий) переименовываются и переносятся в одну папку,
    которую можно ввести ниже.
  
  
  "Маски" - маски нужных файлов. По умолчанию - "*.*" - все файлы. Можно вводить 
            несколько масок, в таком случае их надо разделить запятыми. 
            Например "*.bmp, *.jpg, *.gif" - переименует все файлы изображений в 
            форматах BMP, Jpeg и Gif.
  
  "Сортировка" - позволяет настроить предварительную сортировку файлов.
     - "Без сортировки" - файлы сортироваться не будут
     - "По имени" - файлы будут сортироваться по своему имени
     - "По дате/времени" - файлы будут сортироваться по дате и времени создания
     - "По размеру" - файлы будут сортироваться по своему размеру
     - "По номеру в файле" - файлы будут сортироваться по номерам, 
          найденным в именах. Для этого типа сортировки доступны опции:

          "Начало цифры в файле" - если в файлах цифра находится на фиксированной позиции,
                 то можно указать ее бегунком. Нужно, если в файле есть несколько чисел.
                 Например "File1at10.jpg" - автоматически найдется "10".

          "Динамически" - Вычисляет в каждом файле начало и длину цифры динамически, с
                 конца имени файла.
  
          Все файлы, не имеющие цифр в своем имени, будут отсортированы по имени и 
          добавлены в конец списка.

     - "По дате в имени" - позволяет отсортировать файлы по дате, содержащейся в их имени
          например: 23.01.2002.jpg, 23012002.jpg, 31jan2002.jpg, 31.jan.2002.jpg и тд.
          Для этого типа сортировки доступны опции:
          
          "День", "Месяц", "Год" - выделяются по формату день, месяц и год в имени файла. Эти 
                 поля только информационные
                 
          "Формат" - формат по которому выделяются день месяц и год. 
                 "D" - день, "M" - месяц, "Y" - год. Соответственно этими литерами ставим
                 длину соответствующих полей в имени файла, и любыми дрвгими символами разделяем,
                 если это необходимо.
                 
                 Например для файла "21.jun.2002.jpg" формат будет "DD.MMM.YYYY",
                          для файла "21032002.jpg" формат будет "DDMMYYYY"
                          для файла "01-30-02.txt" формат будет "MM-DD-YY" или "MM DD YY" или
                          "MM.DD.YY"
          
          "Авто" - автоматическое определение длины месяца. То есть, если месяц задан буквами
                 например "январь", "january", то он нормально будет считываться полностью.
                 Соответственно если месяц введен цифрами, то он считается тоже полностью.
                 Если год или день стоит после месяца вплотную, то они соответственно сместятся.
                 То есть файлы 23012002.jpg и 23jan2002.jpg считаются по маске "DDMMYYYY" правильно.

     - "По данным из Exif" - позволяет отсортировать файлы по данным из Exif тега JPG файлов.
                 Этот тег обычно пишут цифровые фотокамеры и там содержится достаточно полезная
                 информация, такая как дата и время съемки фотографии, дата и время записи, модель
                 камеры, производитель камеры и тд. Соответственно если есть фотографии с нескольких
                 камер, то отсортировать их по времени съемки было сложно - дата и время самого файла 
                 обычно другая - когда его переписали из камеры на жесткий диск. 
                 
                 Для этого типа сортировки доступны опции выбора поля для сортировки
                 - "Дата и время - автомат" - позволяет сортировать по оригинальным дате и времени.
                          Сначала программа пытаесят выяснить дату и время когда снимок был сделан.
                          Если это не получилось, то она считывает дату и время когда снимок был
                          обработан камерой.
                          Если и этой даты нет, то программа пытается считать дату и время записи снимка
                          на Flash.
                          
                 - "Дата и время записи" - сортировка по дате и времени записи снимка на Flash.
                 - "Дата и время оригинальные" - сортировка по дате и времени обработки камерой снимка
                 - "Дата и время съемки" - сортировка по дате и времени создания фотографии.
                 
                   Чаще всего все эти 3 даты одинаковы.
                 
                 - "Производитель камеры" - сортировка по фирме - производителю камеры
                 - "Модель камеры"  - сортировка по названию модели камеры
                 - "Копирайт" - сортировка по копирайту в фотографии
                 - "Комментарий" - сортировка по комментарию, записанному в фотографию

  
  Настройки переименовывания:
      "Шаблон" - Название текущего шаблона (скрипта)
      "+" - позволяет добавить новый скрипт
      "-" - позволяет удалить скрипт
      "Переименовать" - позволяет переименовать скрипт
      "Дискета" - сохранить скрипт
  
  "Список операторов" - список операторов в выбранном скрипте. 
      Клавиши рядом со списком служат для редактирования списка 
      "+" - позволяет добавить оператор.
      "-" - удалить оператор
      "стрелка вверх" - переместить оператор выше
      "стрелка вниз" - переместить оператор ниже
      "стереть" - очистить список операторов
  
      Так же можно менять последовательность операторов в списке, если ухватится
      мышью за оператор и потянуть его выше или ниже.
  
  "Отладка скрипта" - позволяет отладить скрипт, без переименования реальных файлов.
      Имена файлов берутся реальные, по путям "Одна директория" или первая директория из списка.
      Если файлов нет, то генерируются имена "file1.jpg", "file2.jpg", ... "file15.jpg".
      
      Операторы из группы "Медия" должны иметь доступ к реальным файлам - иначе они будут
      возвращать пустые строки. Оператор "Записать MP3 тег" и оператор "Удалить MP3 тег" в режиме
      отладки игнорируются.

  "Файлы" - Есть 2 варианта работы с файлами - перенос и копирование.

  "Сказать Done" - Выводить после переименовывания сообщение о успешном завершении
                   операции или нет. Не работает при работе в автоматическом режиме
  
  "Go" - запустить переименовывание.

  "Откат" - становится активна после переименовывания. Позволяет отменить последнее
            переименовывание и переименовать все файлы обратно

4. Описание операторов
---------------------------------------------------------------------------------

  "Регистр" - содержит операторы для преобразования регистра в имени файла
  "Нижний регистр" - переводит имя файла в нижний регистр.
          Например "Name.jpg" -> "name.jpg"
  
  "Верхний регистр" - переводит имя файла в верхний регистр.
          Например "Name.jpg" -> "NAME.JPG"
  
  "С большой буквы" - переводит все имя файла в нижний регистр, а первую букву
          в верхний регистр. Например "name.jpg" -> "Name.jpg"
  
  "Свой шаблон" - переводит регистр по шаблону, заданному пользователем. "C" - 
          значит заглавную букву, "s" - маленькую. Любой другой символ в шаблоне 
          игнорируется.
  
  "Кодировка" - содержит операторы для преобразования кодировки имени файла
  "Printable Quote -> Windows" - переводит последовательности в имени файла типа 
          " !" и " !" в " !". Например "File - (1).jpg" -> "File - (1).jpg"
  
  "Русский -> Translit" - переводит русские названия в транслитерацию (аналог звучания
          в английском алфавите). Например "Картинка1.jpg" -> Kartinka1.jpg"
  
  "Translit -> Русский" - переводит английские транслитерационные названия в русские
          Например "Kartinka1.jpg" -> "Картинка1.jpg"
  
  "Преобразования" - содержит операторы по различным преобразованиям в названии файла
  "Добавить" - добавляет к имени файла, с любой стороны любую строку
  "Удалить" - удаляет символы из имени файла
  "Вставить" - вставляет с любой позиции в имени файла какую то строку
  "Заменить" - заменяет одну последовательность символов на другую.
          Например заменяем "+" на " "(пробел). Получаем "File+1.jpg" -> "File 1.jpg"
  
  "Счетчики" - содержит операторы, управляющие различными счетчиками
  "Цифровой счетчик" - счетчик, который пишет цифрами. Нужен, чтобы нумеровать файлы.
          Например "File01.jpg", "File02.jpg" ...
  
  "Буквенный счетчик" - счетчик, который пишет буквами. Нужен, чтобы нумеровать файлы.
          Например "File_A.jpg", "File_B.jpg" ...
  
  "Триггеры" - содержит условные операторы, срабатывающие при определенной ситуации
  "При совпадении имени" - срабатывает, если имя уже есть. Позволяет добавить цифру
          или какой либо другой модификатор в имя, чтобы имя стало уникальным
  
  "Медия" - содержит операторы, позволяющие добавить к имени специфические данные для
          определенных файлов
  
  "Размеры картинки" - позволяет добавить к имени файла размеры изображения

  "MP3 тэг" - позволяет добавить данные из MP3 тэга
  
  "Записать MP3 тег" - позволяет изменить тег в файлах MP3. В качестве параметра передается переменная,
          считанная "MP3tag [Var]: %$var_name%=%all%".
          Эта переменная имеет определенный формат. Если обрабатывать эту переменную (Верхний регистр,
          Нижний регистр, Транслитерация и тд) то обрабатываться будут все поля MP3 тега (Артист, название,
          альбом и тд). Обработка отдельных полей не предусмотрена, хотя в принципе это можно сделать. 
          Создание тега на основе имени файла см в пункте 5.4 - "Использование переменных"
  
  "Удалить MP3 тег" - позволяет удалить тег из файлов MP3.
  
  "Mpeg Audio тег" - позволяет добавлять данные из тега файлов Mpeg Audio. Файлы *.mpa
  
  "Mpeg Plus тег" - позволяет добавлять данные из тега файлов Mpeg Plus. Файлы *.mpp
              Галочка "Только 2.0" позволяет считывать теги только версии 2.0
  
  "Monkey Audio тег" - позволяет добавлять данные из тега файлов Monkey Audio. Файлы *.ape
              Галочка "Только 2.0" позволяет считывать теги только версии 2.0
  
  "OGG Virbis тег" - позволяет добавлять данные из тега файлов OGG Vorbis. Файлы *.ogg
  
  "AAC тег" - позволяет добавлять данные из тега файлов AAC. Файлы *.aac. 
              Галочка "Только 2.0" позволяет считывать теги только версии 2.0
 
  "WMA тег" - позволяет добавлять данные из тега файлов Windows Meta Audio. Файлы *.wma
  
  "APE тег" - позволяет добавлять данные из тега файлов APE. Файлы *.ape

  "TwinVQ тег" - позволяет добавлять данные из тега файлов TwinVQ. Файлы *.vqf
  
  "Wav параметры" - позволяет добавлять параметры WAV файла. Файлы *.wav
  
  "HTML" - позволяет добавлять заголовок HTML файла.\n\n%title% - вставить заголовок
  
  "Jpeg информация" - позволяет добавлять данные записанные в Exif теги JPG файлов. Обычно эту 
          информацию пишут цифровые фотокамеры.

  "Диалоги" - содержит операторы, позволяющие общаться с пользователем, при выполнении
          программы
  
  "Ввод данных" - позволяет ввести в переменную данные от пользователя. Галочка "Один раз"
          говорит что данные вводятся только один раз, и при следующей работе используется
          тоже значение.


4.1 Описание общих шаблонов
  
  Данная инфомрация всегда доступна из ссылки "Подробнее" в окне добавления операторов.
  
  Общие шаблоны работают почти во всех операторах, и позволяют изменять имя, расширение 
  файлов, а так же получать определенные данные, для использования их в процессе
  переименовывания.

  %name% -  текущее имя файла
  
  %ext% - текущее расширение
  
  %rndc% - (Random char) случайная английская буква 
  
  %rnd(число)% - случайное число (от 0 до число) - например %rnd(10)% - случайное число от 0 до 10
  
  %dir% - имя директории, где изначально лежат файлы
  
  %$имя_переменной% - значение пользовательской переменной. (дополнительно см. подробную справку для "Диалоги" - "Ввод данных")
  
  %fdate% - дата создания файла.
     %fdate.d% - день создания файла
     %fdate.m% - месяц создания файла
     %fdate.y% - год создания файла
  
  %ftime% - время создания файла.
     %ftime.h% - часы создания файла
     %ftime.m% - минуты создания файла
     %ftime.s% - секунды создания файла
  
  %date% - текущая дата.
     %fdate.d% - текущий день
     %fdate.m% - текущий месяц
     %fdate.y% - текущий год
  
  %time% - текущая время.
     %time.h% - текущий час
     %time.m% - текущая минута
     %time.s% - текущая секунда
  
  
  Так же доступны операторы, с помощью которых можно модифицировать значения
  этих переменных
  
  Операторы: 
  %len(переменная)% - длина переменной/значения. Используется в основном для
  оператора вырезания. Например %len(name)% - длина имени, %len(ext)% - длина
  расширения, %len(dir)% - длина имени директории (исходной для файла)
  %len($aaa)% - длина пользовательской переменной $aaa
  
  %[имя_пер, начало, длина]% - вырезает кусок из "имя_пер" начиная с "начало",
  длиной "длина".
  Вместо цифры можно поставить символ/слово в одиночных кавычках - 'a' - тогда он будет
  искаться в "имя_пер" и заменится на ее позицию. В слове "date" параметр 't' даст "3", 
  'at' даст 2 и тд.
  Например:
    "%[name, 1, 3]%" для файла "File1.jpg" вернет "Fil".
    "%[name, 'i', 3]%" для файла "File1.jpg" вернет "ile".
    "%[name, 1, 'i'+1]%" для файла "File1.jpg" вернет "Fil".
    "%[dir,3,4]%" для файла, лежащего в директории "Katalog" вернет "talo".
  
    Так же в этом операторе можно использовать оператор "len" - например: 
    "%[name,len(name)-2,3]%" для файла "File1.jpg" вернет "le1" а для файла
      "file100.jpg" вернет "100".


5. Работа с программой
---------------------------------------------------------------------------------

5.1 Переименовывание файлов.
  
  1. Сначала выбираем режим одной или нескольких директорий - в зависимости
     от того, в скольких директориях надо переименовывать. Галочка "Переименов. каталоги"
     должна быть снята.

  2. Если выбрана одна директория - то вводим ее. Кнопкой внутри поля ввода
     можно вызвать окно, где выбрать директорию, или сразу ввести путь до нее.

  3. Если выбран список, то кнопкой "+" добавляем директории в список, и
     редактируем его.

  4. Далее - если файлы нужно слить в одну директорию, то ставим галочку
     "Куда переименовывать", и вводим путь, иначе файлы останутся в своих
     директориях, только переименуются.
  
  5. Из выпадающего списка "Сортировка" выбираем по какому принципу будут сортироваться
     файлы перед переименовыванием. Для некорых типов сортировки можно настроить 
     дополнительные опции. О них подробно описанно в пункте 3 настоящего руководства.

  6. Из выпадающего списка "Шаблон" выбираем нужный скрипт, или создаем
     новый клавишей "+".

  7. Нажимаем клавишу "Go".

  8. Файлы переименованы.



5.2 Переименовывание каталогов.
  
  1. Включаем галочку "Переименов. каталогов"

  2. В списке каталогов кнопкой "+" добавляем директории в список, и
     редактируем его другими клавишами.

  3. Из выпадающего списка "Шаблон" выбираем нужный скрипт, или создаем
     новый клавишей "+".

  4. Нажимаем клавишу "Go".

  5. Каталоги переименованы.



5.3 Создание своего скрипта
 
  1. Рядом с названием шаблона нажимаем "+" - это позволит нам добавить новый шаблон

  2. Называем его
  
  3. Нажимаем клавишу "+" рядом со списком операторов для добавления нового оператора.
     Выбираем оператор из группы. Внизу пишется подсказка. Если ее недостаточно, то 
     у некотрых операторов появляется внизу подсвеченная ссылка "подробнее", где оператор
     и методы работы с ним описанны более подробно.
  
  4. Выбираем зону воздействия оператора - на "Все" (Имя и Расширение), только на имя,
     только на расширение, или на переменну. Работа с переменными расмотрена в пункте 5.4
     
  5. При необходимости вводим шаблоны (шаблоны по умолчанию автоматически прописываются)
     при выборе оператора.

  6. Нажимаем клавишу "Ок".

  7. Если оператор стоит не на своем месте, то кнопками со стрелками рядом со списком
     операторов можно передвинуть выделенный оператор вверх или вниз. Либо схватившись
     за него мышкой, перетащить в нужное место.
  
  8. Если шаблон или оператор введены неверно, то оператор можно отредактировать - 
     для этого необходимо сделаьт по нему двойной щелчек.

  9. Повторить пункты 3-7 для всех нужных операторов.
  
 10. Нажмите кнопку "Отладка скрипта" (слева от списка операторов, самая нижняя).
  
 11. В появившемся окне можно проиграть скрипт, не переименовывая настоящих файлов.
     В окне слева рисуются оригинальные имена файлов, взятые по путям 
     "Одна директория" в основном окне программы, либо первая из первой директории 
     "Списка директорий". Если файлов там нет, либо директория н есуществует,
     то будут сгенерированны имена файлов типа "file1.jpg" ... "file15.jpg".
     Файлы будут отсортированны согласно настройке сортировки в главном окне программы.
      
     Далее клавишами "|<", ">", ">|" можно проиграть скрипт по команде или полностью по 
     очереди для каждого файла - и посмотреть какой получается результат.
      
     Клавиша "Сброс" сбрасывает значения всех счетчиков и переменных.

 12. После отладки закрываем окно отладки клавишей "Ок"
  
 13. Скрипт готов к использованию
  


5.4 Использование переменных.

  Переменные являются дополнительным удобным инструментом. В некотрых случаях использование 
  переменных позволяет упростить программирование скрипта. Переменная выгляит как 
  "%$имя_переменной%" - например "%$my%" - это переменная $my. В имени переменой допустимы
  любые символы, кроме "=", "%" и ",". Русские имена и пробелы в переменных разрешаются.
  
  В некоторых операторах необходимо непосредственно указать переменную, в других переменные
  можно использовать, а можно и не использовать. Так же оператор "Записать MP3 тег" использует
  для своей работы переменную определеннорго формата. Операторы "Транслитерация", "Русский", 
  "Printable->Quote", "Заменить", Регистровые операторы не изменяют ее структуры. Оператор 
  "Добавить" и команда "%[$mp3,1,1]%" могут испортить структуру переменной, и тег запишется
  неправильно.

  Переменную $mp3 можно создать вручную, используя символ "/n" - он разделяет параметры в
  переменой. Всего параметров должно быть 13 - не больше, не меньше.
  Вот порядок следования параметров:
    Title
    Artist
    Album
    Year
    Comment
    Track
    GenreID
    Genre
    Composer
    Encoder
    Copyright
    Language
    Link
  
  Пример создания переменной: "Add     [var ]: $mp3=Песня/nАвтор/nАльбом/n
  2000/nКомментарий/n1/n0/nЖанр/nКомпозитор/nКодировщик/nКопирайт/n
  Русский/nhttp://dimonius.da.ru"
  Так же можно использовать команды и операторы. например если имена файлов у нас такие:
  
  "NightWish - Welcome to the Moon.mp3" (то есть %имя исполнителя% - %название композиции% )
  
  то можно составить скрипт:
  
  "Add       [var ]: $mp3=%[$name,1,'-'-1]%/n%[$name,'-'+1,999]%/n/n/n/n/n/n/n/n/n/n/n"
  "ChangeMP3 [var ]: $mp3"

  
  Переменные считываются либо в операторе "Ввод данных", либо в программе, при установке 
  переключающейся кнопки "Действие" в положение "На переменную". В операторе "Ввод данных"
  необходимо в поле "Имя:" необходимо ввести имя переменной без символов "$" и "%".
  
  При вводе в программе необходимо установить переключающуюся клавишу "Действие" в положение
  "На переменную", и в самом первом поле ввести имя переменной в формате "%$имя_переменной%=", 
  где "имя_переменной" - имя вашей переменной, и далее данные, которые надо в нее занести.
  То есть запись "Add [Var ]: %$my%=%name%_%fdate%" поместит в переменную "$my" строку, 
  состоящую из имени файла и даты этого файла. Запись "Add [Name]: %name%_%fdate%" изменит
  соответственно имя файла на строку состоящую из имени файла и даты этого файла. То есть 
  работа оператора, при воздействии на переменную точно такое же, как и на имя файла, только 
  результат помещается не в имя файла, а в переменную.
  
  Операторы "Нижний регистр", "Верхний регистр", "С заглавной буквы", "Printable Quote->Windows",
  "Translite->Русский", "Русский -> Translite" при ключении "действия" в режим "на переменную"
  требуют ввода имени переменной в формате "%$имя_переменной%"

5.5 Смена схемы транслитерации

  Иногда требуется использовать свою схему транслитерации. Для таких случаев предусмотрена возможность
  создания и использования своих схем. В папке Renamer может находится файл "translite.txt" содержащий
  схему транслитерации. Если файл существует, то программа использует данные из него. Если нет - то
  стандартную схему транслитерации. Файл состоит из 2х строк - первая строка - русские буквы, вторая строка - 
  английские буквы. Стандартная схема транслитерации зашита в программу, а так же для примера поставляется
  в файле "translite.tx~", из архива Renamer'а. Вот содержимое этого файла:
  
  ----------- Начало файла ------------
  й цукенгш щ зхъ фывапролдж эя ч смитбю ё ьЙ ЦУКЕНГШ Щ ЗХЪ ФЫВАПРОЛДЖ ЭЯ Ч СМИТБЮ Ё Ь
  iycukengshshzh''fyvaproldzheiachsmitbiuie'IyCUKENGShShZh''FYVAPROLDZHEIaChSMITBIuIe'
  ----------- Конец файла -------------

  Буквы делятся на 2 вида - двойные (bi-буквы) и одинарные. Например буква "у" заменяется на "u" - это
  одинарная буква. А буквы "й", "ш", "я" заменяются соотсветственно на 2 символа - "iy", "sh", "ia".
  Длины русских и английских букв должны быть равны (иначе при выполнении скрипта будет показана ошибка -
  "Длины строк "из" и "в" не равны").Кажому символу верхней строки, соответствует свой символ в нижней
  строке. Для bi-букв вторым символом ставится пробел. Для наглядности тот же файл, только разделенный по
  буквам:
  
  --------- Начало примера ----------
  |й |ц|у|к|е|н|г|ш |щ |з| ... |Ё |Ь|
  |iy|c|u|k|e|n|g|sh|sh|z| ... |Ie|'|
  --------- Конец примера -----------
  
  Замена 1 символа более чем на 2 не поддерживается (например сделать "щ" -> "sh'" нельзя). Так что файл:
  
  --- Начало примера ---
  щ  фа
  sh'fa
  --- Конец примера ----

  Будет воспринят как: "щ" -> "sh", " " -> "'", "ф" -> "f", "а"->"a".
  
6. Смена языка
---------------------------------------------------------------------------------

  Files renamer поддерживает мультиязычность. Для смены языка необходимо
  скачать с сайта http://dimonius.da.ru языковые файлы - Renamer.lng (сам
  языковой файл) и Renamer.cnt (контекстная справка). Они расположены в одном
  архиве. После скачивания файлы необходимо разархивировать в папку с Files
  Renamer'ом.
  
  После этого при загрузке Files Renamer автоматически определит
  наличие языкового файла и загрузит все данные из него.

  
  

7. Заключение
---------------------------------------------------------------------------------
  Программа поставляется "As is" (как есть). То есть автор не несет
  ответственности за правильность работы программы и за потерю или повреждение
  данных при использовании программы.
  
  Программа поставляется совершенно БЕСПЛАТНО.
  
  Ваши комментарии, пожелания и критику можно отправлять на адреса:
  
  dimonius@mail333.com
  dimonius@operamail.com  
  
  Свежую версию этой программы, а так же другие удобные бесплатные программы Вы
  можете скачать по адресу:
  
  http://dimonius.da.ru
  
  
  
  Благодарим за помощь:
    Cheeta - за моральную поддержку
    Skar   - за "последнюю каплю терпения", благордаря которой появилась эта программа
    Hawara - за бетатестинг

    а так же других помощников за посильный вклад в эту программу.

    

(c) TiGER grp. 2002-2003.
