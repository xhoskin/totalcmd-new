*****************************************************************
***                  Log AkelPad plugin v2.7                  ***
*****************************************************************

2012 Шенгальц Александр aka Instructor (Shengalts@mail.ru)


*** Описание ***

Просмотр логов или захват вывода приложения в реальном времени.


*** Функции ***

Log::Watch
Просмотр лога.

Log::Output
Захват вывода.

Log::Settings
Диалог настроек плагина.


*** Внешний вызов Log::Output ***

Call("Log::Output", 1, "PROGRAM", "WORKDIR", "REPATTERN", "RETAGS", INPUTCODEPAGE, OUTPUTCODEPAGE, FLAGS)
  Параметры:
    1
      Запустить приложение и захватить вывод.
    "PROGRAM"
      Запускаемый файл.
    "WORKDIR"
      Рабочая директория.
    "REPATTERN"
      Шаблон регулярного выражения. Применяется к каждой строке вывода для перехода к тексту из панели.
    "RETAGS"
      Соответствие вхождений выражения.
        /FILE=$1         файл для перехода.
        /GOTOLINE=$2:$3  строка и колонка для перехода.
        /GOTOBYTE=$2     смещение в байтах для перехода.
        /GOTOCHAR=$2     смещение в символам для перехода.
        /FRAME=$1        дескриптор данных вкладки для перехода.
    INPUTCODEPAGE
      Кодировка текста для передачи на вход запускаемому файлу.
      Если -1, кодировка будет определена автоматически.
      Если -2 либо не указана, будет использована кодировка из настроек плагина.
    OUTPUTCODEPAGE
      Кодировка текста для получения от запускаемого файла.
      Если -1, кодировка будет определена автоматически.
      Если -2 либо не указана, будет использована кодировка из настроек плагина.
    FLAGS (сумма следующих):
         1  Не отображать панель вывода.
         2  Не отображать строку для ввода.
         4  Сохранить все документы перед выполнением.
         8  Добавлять текст в конец.
        16  Не прокручивать в конец.
        32  Переносить строки.

      4096  Источник для передачи - выделение, либо весь документ, если нет выделения.
      8192  Источник для передачи - весь документ.
     16384  Источник для передачи - выделение.
            По умолчанию: источник для передачи не используется.

   1048576  Приемник для вывода - выделение, либо весь документ, если нет выделения.
   2097152  Приемник для вывода - текущий документ.
   4194304  Приемник для вывода - выделение текущего документа.
   8388608  Приемник для вывода - новая вкладка.
            По умолчанию: приемник для вывода - панель вывода.

  Пример (вывод в панель вывода):
    Call("Log::Output", 1, `tracert akelpad.sourceforge.net`)
  Пример (вывод в выделение без панели вывода):
    Call("Log::Output", 1, `ipconfig`, "", "", "", -1, -1, 1048577)
  Пример (запуск пакетного файла для компиляции):
    Call("Log::Output", 1, `"%d\Build.cmd" /S`, "%d", "^(([^\(:]+(:[\\/])?)+)[\(:](\d+)([,:](\d+))?[\):]", "/FILE=$1 /GOTOLINE=$4:$6")

Call("Log::Output", 2, *WINDOW)
  Параметры:
    2
      Получить дескриптор окна вывода текста. Использовать с помощью Scripts плагина.
    *WINDOW
      Указатель на переменную, которая получает дескриптор окна вывода текста.

Call("Log::Output", 3, *EXECSTATE, *PLUGINTHREAD, *PROCESSHANDLE, *PROCESSID)
  Параметры:
    3
      Получить информацию о текущем запущенном приложении. Использовать с помощью Scripts плагина.
    *EXECSTATE
      Указатель на переменную, которая получает состояние запуска приложения. Сумма следующих:
        0  Состояние бездействия.
        1  Получена команда для запуска.
        2  Поток плагина, из которого будет запущено приложение, создан.
        4  Приложение запущено и работает.
    *PLUGINTHREAD
      Указатель на переменную, которая получает дескриптор потока плагина, из которого запускается приложение.
    *PROCESSHANDLE
      Указатель на переменную, которая получает дескриптор процесса запущенного приложения.
    *PROCESSID
      Указатель на переменную, которая получает идентификатор процесса запущенного приложения.

Call("Log::Output", 4, "TEXT", TEXTLEN, APPEND, CODEPAGE)
  Параметры:
    4
      Установить/Добавить текст в панель вывода. Использовать с помощью Scripts плагина.
    "TEXT"
      Текст для вставки. Тип строки ANSI.
    TEXTLEN
      Длина текста (по умолчанию -1). Если -1, длина текста ограничивается NULL символом.
    APPEND (один из следующих):
      0 Заменить весь текст, присутствующий в панели вывода.
      1 Добавить к тексту, присутствующему в панели вывода (по умолчанию).
    CODEPAGE
      Кодировка вставляемого текста. По умолчанию используется системная ANSI кодировка.

Call("Log::Output", 5, "TEXT", TEXTLEN, APPEND)
  То же, что и 4, но "TEXT" имеет тип строки Unicode.


*** Внешний вызов Log::Settings ***

Call("Log::Settings", 1, PAGE)
  Параметры:
    1
      Открыть диалог настроек на указанной странице.
    PAGE
      Номер страницы, начиная с нуля.
